import{_ as a,c as i,e as l,o as t}from"./app-D5peQ_E2.js";const r={};function n(s,e){return t(),i("div",null,e[0]||(e[0]=[l('<h3 id="环境管理" tabindex="-1"><a class="header-anchor" href="#环境管理"><span>环境管理</span></a></h3><p>配置应用环境，例如开发环境、测试环境、生产环境, 从而做到应用在不同环境的有不同的配置, 操作相互隔离。</p><h3 id="项目管理" tabindex="-1"><a class="header-anchor" href="#项目管理"><span>项目管理</span></a></h3><p>可以将多个应用归属于某个项目下进行管理。</p><h3 id="应用管理" tabindex="-1"><a class="header-anchor" href="#应用管理"><span>应用管理</span></a></h3><p>管理和维护应用, 每个应用在不同的环境都可以有不同的配置。</p><p>新增应用，填写应用中文及英文名称，选择需要关联的项目。</p><p>新增发布配置（预发布配置）</p><ul><li>选择需要发布的环境</li><li>选择要部署的目标主机</li><li>填写代码的<mark>Git</mark>仓库地址</li><li><mark>Git</mark>凭据可在凭据管理模块提前添加，如果是公开仓库可选择无</li><li>消息通知可在通知管理模块提前添加，如果不需要通知可选择无</li><li>源文件指要发布到指定机器的产物，默认是 <mark>*</mark> 代表所有文件，例如前端构建出的产物是<mark>dist</mark>文件， 后端构建的产物是<mark>target/build.jar</mark>文件，构建出的产物默认在机器上的位置是 <mark>/tmp/应用名/</mark> 下面</li><li>代码检出前执行脚本指代码拉取之前做的一些事情，如有可填写</li><li>代码检出后执行脚本指代码拉取之后做的一些事情，例如执行构建命令操作</li><li>服务器部署路径指构建产物要放在哪个路径下，例如/usr/share/nginx/html/</li><li>历史版本路径指要备份到哪个路径，例如/data/backup/</li><li>历史版本保留数指要保留几个版本</li><li>部署前执行脚本指部署前需要执行的脚本，例如停止应用服务</li><li>部署后执行脚本指部署后需要执行的脚本，例如启动应用服务</li></ul><p>发布配置用于管理新增的应用发布配置，例如查看、编辑、删除。</p><h3 id="发布申请" tabindex="-1"><a class="header-anchor" href="#发布申请"><span>发布申请</span></a></h3><p>管理和维护应用的发布。</p><p>设计思路: 应用在发布之前需要先由宿主机进行构建, 生成一个可发布的产物, 发布时需要基于该产物进行发布操作。</p><p>新增发布申请：</p><ul><li>选择要发布的环境</li><li>选择要发布的应用，选择后会自动带出要发布的目标主机（发布配置预先配置好的目标主机），也可重新选择目标主机</li><li>申请标题用于标识，例如修复xxx的bug</li><li>选择分支会从发布配置中预先填写的仓库地址下获取所有分支</li></ul><p>发布：进行应用发布操作。</p><p>日志：查看发布日志。</p><p>回滚：发布之后若有问题，可做回滚操作。选择需要回滚的版本、目标主机，填写回滚后执行的脚本，例如重启服务。</p>',18)]))}const p=a(r,[["render",n],["__file","index.html.vue"]]),c=JSON.parse(`{"path":"/notes/devops/bg46gdjh/","title":"应用发布","lang":"zh-CN","frontmatter":{"title":"应用发布","createTime":"2024/10/01 22:42:11","permalink":"/notes/devops/bg46gdjh/","head":[["script",{"id":"check-dark-mode"},";(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();"],["script",{"id":"check-mac-os"},"document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))"]]},"headers":[{"level":3,"title":"环境管理","slug":"环境管理","link":"#环境管理","children":[]},{"level":3,"title":"项目管理","slug":"项目管理","link":"#项目管理","children":[]},{"level":3,"title":"应用管理","slug":"应用管理","link":"#应用管理","children":[]},{"level":3,"title":"发布申请","slug":"发布申请","link":"#发布申请","children":[]}],"readingTime":{"minutes":2.41,"words":723},"filePathRelative":"notes/devops/operation/3.应用发布.md"}`);export{p as comp,c as data};
